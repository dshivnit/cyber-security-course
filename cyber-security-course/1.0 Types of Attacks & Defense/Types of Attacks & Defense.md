*All of these will need to be revised, updated and added to*
[[1.1.1 Types of Attacks]]

[[1.2.1 Types of Defense]]

[[Open-Source Intelligence (OSINT)]]

- Heap Corruption
- 
- Vulnerabilities
	- A weakness or flaw in the design, implementation or behaviours of a system or application. 
	- NIST defines, "weakness in an information system, system security procedures, internal controls, or implementation that could be exploited or triggered by a threat source." 
	- Most common types:
		- Operating System
			- Normally resulting in privilege escalation
		- (Mis)Configuration-based
			- Incorrectly configured application and/or service
		- Weak or Default Credentials
			- GG speaks for itself
		- Application Logic
			- Poorly designed applications
			- ie - poorly implemented Authentication Systems/Mechanisms (where in an attacker can impersonate a User)
		- Human-Factor
			- ie phishing emails
			- Layer 8s
- Vulnerability Management
	- Evaluating, categorising, and ultimately remediating threats (vulnerabilities) faced by an organisation. 
	- It is arguably impossible to patch and remedy every single vulnerability in a network or computer system and sometimes a waste of resources. 
	- Approximately 2% of vulnerabilities only ever end up being exploited (Kenna Security 2020). 
	- It is all about addressing the MOST EDANGEROUS vulnerabilities and reducing the likelihood of an attack vector being used to exploit a system. 
	- Common Vulnerability Scoring System (CVSS)
		- Scores based upon features, availability and reproducibility
		- Introduced in 2005
		- Current version CVSSv3.1 (4.0 in draft)
			- How easy is it to exploit the vulnerability?
			- Do exploits exist for this? 
			- How does this vulnerability interfere with the CIA triad?
				- CIA Triad - a framework that combines three key information security principles: Confidentiality, Integrity and Availability (coursera.org)
		- CVSS Calculator: https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator
				  (from TryHackMe)
	- Vulnerability Priority Rating (VPR)
		- More modern framework in vulnerability management - developed by Tenable (an industry solutions provider for vulnerability management)
		- Considered to be risk-driven
			- HEAVY FOCUS on the risk a vulnerability poses to the organisation itself, rather than factors such as impact (like with the CVSS)
		- Intended for a commercial platform as the Vulnerability Priority Rating (VPR) system is not open-source
		- Considers over 150 factors when considering and calculating risks
		- Helps Security Engineers prioritise patching vulnerabilities
		- Scores are not final and dynamic - initial score will change over time as the vulnerability ages
		- Does not consider Confidentiality, Integrity and Availability (the CIA Triad) of vulnerabilities.
- Vulnerability Databases
	- Resources on the Internet that keep track of vulnerabilities for all sorts of software, operating systems and other systems/services
	- National Vulnerability Database (NVD)
	- Exploit-DB
	- Consider:
		- Vulnerability and its definition : weakness or flaw in the design, implementation and behaviours of a system
		- Exploit : action or behaviour that utilises a vulnerability in a system, service or application
		- PoC (Proof of Concept) - technique or tool that demonstrates the exploitation and/or vulnerability
	- National Vulnerability Database (NVD) (https://nvd.nist.gov/)
		- A website that lists all publicly categorised vulnerabilities. 
		- Not the best for searching or filtering your queries to a specific application and/or threat
	- Exploit-DB (https://exploit-db.com)
		- A resource that CyberSec analysts will find more helpful
		- Retains exploits for software and applications stored under the name, author and version of the software application
		- You can use it to look for snippets of code (PoC's) that are used to exploit a specific vulnerability
		- Database was started in 2004 by a hacker group known as milw0rm
		- However, other sources say that it is OffSec who maintain it and are seen as the author of the DB
	- Version Disclosure
		- When one version of an application has exploits that have been identified perhaps sometimes released for public information
- Web Enumeration
	- Gobuster
	- WPScan
	- Nikto
- Upload Vulnerabilities
	- Possible Risks:
		- Overwriting existing files on a Server
		- Uploading and executing shells on a Server
		- Bypassing Client-side filtering
		- Bypassing various kinds of Server-side filtering
		- Fooling content type validation checks
- Penetration Testing
	- An Authorised audit of a computer system's security and defenses as agreed by the owners of the system(s)
	- NCSC 
		- National Cyber Security Centre
		- Have the CHECK accreditation to ensure that companies with the CHECK accreditation are able to carry out pentesting
		- Ethics
	- The Hats
		- Black
		- Grey
		- White
	- Rules of Engagement (ROE)
		- Permission
		- Test Scope
		- Rules
	- Methodology
		- Information Gathering
		- Enumeration/Scanning
		- Exploitation
		- Privilege Escalation
		- Post-Exploitation
			- What other hosts can be targeted? (pivoting)
			- What additional information can we gather from the host now that we are priv'd?
			- Covering tracks
			- Reporting
	- OSSTMM
		- Open Source Security Testing Methodology Manual
		- Provides a detailed framework of testing strategies for systems, software, communication and the human aspect of cybersec
			- Telecommunications (phones, VoIP and the like)
			- Wired Networks
			- Wireless Communications
	- OWASP (Open Web Application Security Project)
		- community-driven 
		- Frequently updated framework used solely to test the security of web apps and services
	- NIST Cybersec Framework 1.1
		- Used to improve an organisations cybersecurity standards and manage the risk of cyber threats
	- NCSC CAF
		- Cyber Assessment Framework
			- Data
			- System
			- Identity and Access control
			- Resiliency
			- Monitoring
			- Response and recovery planning
	- Black-Box Testing
		- High-level process where the tester is not given any information abou tthe inner workings of the application or the service
		- Acts as a regular user testing the functionality and interaction of the application or piece of software
		- Increases the amount of time spent during the information gathering and enumeration phase to understand the attack surface of the target
	- Grey-Box Testing
		- Most popular for things such as pentesting.
		- Combination of both black and white box testing
		- Tester will have *some* limited knowledge of the internal components of the application or piece of software
		- Often chosen for extremely well-hardened attack surfaces
	- White-Box Testing
		- low-level process done by a software dev who knows programming and application logic
		- Testing the internal components of the application or piece of software
		- Test will normally have *full* knowledge of the application and its expected behaviour
	- Vulnerability Assessment and Pentest Limitations
	- APTs (Advanced Persistent Threats)
		- Pentets are loud
			- An actual attacker won't be so noisy
		- Non-technical attack vectors might be overlooked
		- Relaxation of security mechanisms
		- A highly skilled group of attackers
		- Usually sponsored by nations or criminal groups
		- Target:
			- Critical infrastructure
			- Financial organisations
			- Government institutions
		- Called persistent because the operations of these groups can remain undetected on compromised networks for long periods of time
	- Red Team / Blue Team
		- A term borrowed from the military
		- Chase to the Crown Jewels and/or Flags
	- TTP
		- Tactics, Techniques and Procedures
	- Red Team
		- Attack Surfaces
			- Technical Infrastructure
			- Social Engineering
			- Physical Intrusion
		- Full Engagement
		- Assumed Breach
		- Table-top Exercise
		- Red Team Lead
		- Red Team Assistant Lead
		- Red Team Operator
	- Cyber Kill Chain
		- Reconnaisance
		- Weaponisation
		- Delivery
		- Exploitation
		- Installation
		- Command and Control
		- Actions on Objectives
- Web App Security (OWASP Top 10)
	- Identification and Authentication Failure
		- Allowing the use of brute force attacks
		- Allowing Users to use weak passwords
		- Storing these passwords inappropriately ie in plaintext)
	- Broken Access Control
		- Giving Users more access permissions
		- Being able to view or modify another users account by using its unique identifier
		- Being able to browse pages that require authentication
		- IDOR (Insecure Direct Object References)
	- Injection
		- Where an attacker an insert malicious code as part of their input
		- (not having sufficient input masking/filtering)
	- Cryptographic Failures
		- ie using HTTP instead of HTTPS
		- Using trivial cryptographic algorithms

- Passive Reconnaissance
	- Publicly available knowledge
	- DNS Lookups, Whois
	- Mate, anything that is available that you know about (and trust, there are records out there that you wouldn't even think of that are fully open to the public. -- not going to list those here)
- Active Reconnaissance
	- Direct engagement with the mark/target
	- ^ 
-  Upload Vulnerabilities
	- Some impacts:
		- Overwriting existing files on a server
		- Uploading and executing shells on a server
		- Bypassing Client-side filtering
		- Bypassing various kinds of Server-side filtering
		- Fooling content type validation checks
	
	- Files that are uploaded on to a Server should be checked essentially
		- Change the name of the file when it's uploaded on to the Server
			- Either to a random name, or add some things to the original file name (to the front to the back, etc)
			- Check to see if the filename already exists on the Server
			- File permissions should also be considered when a request has been made to replace a file
				- Does that User have sufficient perms? 
				- Get a perm?
				- Web pages for example should never be allowed to be written by any User from the outside - there should be a clear and secured process for these types of updates
	- Shells
		- Web Shells
			- PHP
			- `<?php echo system($_GET["cmd"]) ?>`
		- Reverse Shells
		- Bind Shells

	- Filters
		- Client-side Filters
			- Running on the User's Web-browser as opposed to on the Server
			- Javascript for example
		- Server-side Filters
			- Running on the Server-side..
			- PHP
			- ASP
			- C#, Node.js
			- Python
			- Ruby
			- others
		- Extension Validation
		- File Type Filtering
			- MIME Validation
				- Multipurpose Internet Mail Extension
					- Used as an identifier for files
						- Originally when transferred as attachments in an email
						- But now when these types of files are being transferred over HTTP/S, the MIME file type for an uploaded file is attached to the header of the request
						- `Content-Type: image/jpeg` for example
							- Format: `<type> | <subtype>`
					- Can be checked both Server-side and Client-side
					- Note MIME is based on the extension of the file, so this is relatively straight forward to bypass
		- Magic Number Validation:
			- The more accurate method of determining the contents of a file
			- A string of bytes at the very beginning of the file content which identify the content
			- In example, a .PNG file would have these bytes at the very top of the file:
				- `89 50 4E 47 0D 0A 1A 0A`
			- Unix systems use magic numbers for identifying files
			- More effective than checking just the extension of a file
		- File Length Filtering
			- To prevent huge files from being uploaded to the Server via an upload form
			- If the system is only expecting a small file to be uploaded then there may be a length filter in place to ensure that the file length requirement is adhered to
				- ie 2Kb
		- File Name Filtering
			- File names should sanitised before being uploaded so as to remove any characters ('bad characters') which could potentially cause harm to the file system when uploaded
				- For example: null bytes or forward slashes in Linux, semi-colons and potentially unicode characters
		- File Content Filtering
			- To be covered later
		- Normally these filters will be used in conjunction with each other as opposed to simply just by themselves
		- PHP payloads in PNGs (injecting bad PHP into exif data of an otherwise legitimate image file)
	- Client-side Bypass
		- Intercepting a request coming back from a Web-site wherein Javascript code can be altered prior to receiving it
			- Through the use of tools such as Burp
			- Adjusting Intercept rules os that `^js$|` will be picked up
			- Then perhaps adjusting what kind of files can be uploaded if there is a File Type Filter set in place by removing that Javascript script from the intercepted response from the Web-system 
			- Then perhaps uploading whatever one wanted on to the System
			- Then running it providing that one knew where those files were going on the System
			- And so on
	- Server-side Bypass
		- Sincere testing needs to be done to see what rules are set in place
		- PHP is used quite a bit
			- Are there other extension types for PHP files as opposed to just `.php` ? What else?
		- 